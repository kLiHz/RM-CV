# 在虚拟机中使用Linux系统



## 为什么要使用Linux？

自行了解

## 什么是Linux发行版？

自行了解

## 安装Ubuntu操作系统

Ubuntu是比较常见的一个Linux的发行版，而且市场占有率较大。

### 获取安装介质

要使用Ubuntu操作系统，我们需要先获取其安装镜像。去官网上获取最新的安装镜像。

[Ubuntu 官网 - ubuntu.com](https://ubuntu.com/)

[Ubuntu 中文站 - cn.ubuntu.com](https://cn.ubuntu.com/)

进入网站后，选择“下载”进入下载界面，下载Ubuntu桌面版。

注：也可以选择其他下载方式，比如BT下载等。

### 安装虚拟机软件

常用的虚拟化软件有VMware Workstation Pro，Oracle VirtualBox等，Windows系统还有自带的Hyper-V。出于易用性等方面的因素考虑，建议使用VMware Workstation Pro。

VMware Workstation Pro不是一个免费的软件，如果觉得好用，可以考虑付费购买许可证。

### 在虚拟机中安装Ubuntu

安装好VMware Workstation Pro后，新建一个空白的虚拟机，暂时不安装操作系统。配置完毕后，在“虚拟机设置”中加载刚刚下载好的安装介质（一般是iso光盘镜像），启动虚拟机，就会开始安装过程。

建议选择一个好记好写的用户名和密码组合。

安装完成进入系统后，可以选择应用中的“Softwares & Updates（软件和更新）”，可以以图形化的方式选择镜像源。这里我们选择国内（China）的**镜像源**，这样在下载package时的速度会有显著的提升。

![在Ubuntu中以图形化的方式选择镜像源](image/Snipaste_2021-01-15_02-25-02.jpg)

### 安装必要软件

Ubuntu上默认的包管理器是apt-get（如果不清楚什么是包管理可以自行查阅资料）。

打开“Terminal（终端）”，我们输入一下命令，先更新一下本地的包信息。

```bash
$ sudo apt-get update
```

> 如果读者是命令行的初学者，那么请留意，上面的`$`符号并不需要输入，它表示现在终端处于普通用户模式下。

命令中`sudo`的含义表示使用超级管理员权限，这样程序才能访问一些普通权限下访问不到的资源。（如果不加`sudo`，便会出现“permission denied”的问题）

输入命令后，会提示用户键入密码。注意，输入的密码并不会显示在终端上，只需要在输入完成后按`Enter`键即可。

之后命令行会闪过很多信息，等待操作完成后，我们再执行升级软件包的操作：

```bash
$ sudo apt-get upgrade
```

这之后便会下载需要升级的软件包并安装，又会花费一些时间。

根据Linux的机制，安装后可能需要重启一下机器才能使更改生效。

接下来我们再安装一个小应用试一试：

```bash
$ sudo apt-get install cowsay
```

命令中`install`的后面跟的是要安装的包的名称（package name）。安装完成后，就可以使用`cowsay`了。

```bash
$ cowsay hello
```

![包管理示范](image/Snipaste_2021-01-15_02-45-25.jpg)

接下来还可以安装构建所需要的工具：

```bash
$ sudo apt-get install build-essential
```

正如`build-essential`其字面上所表示的那样，执行命令将会自动安装一堆软件包。

可能还需要安装CMake：

```bash
$ sudo apt-get install cmake
```

### 安装VMware Tools

安装虚拟机的增强工具会使得虚拟机的使用变得方便，比如文件拖拽、剪贴板共享等。点击Workstation的“虚拟机”菜单栏，按照步骤安装即可。

## Linux基本命令

刚刚其实我们已经使用了终端，但是在这之前，还是建议读者知晓终端（Terminal）和Shell的区别。

> 以下内容摘自维基百科：
>
> 终端（英语：Computer terminal），是一台电脑或者计算机系统，用来让用户输入数据，及显示其计算结果的机器，简而言之就是人类使用者与计算机互动的装置。其又名终端机，它与一部独立的电脑不同，但也是电脑组成的部分。
>
> 有些终端不但可以显示文字，而且可以显示矢量图形和位图。计算机向终端输出绘图指令，终端则向计算机输送用户输入（通过键盘或者定位设备）。
>
> 今天在计算机中图形用户界面无处不在。大多数终端模拟程序是在图形环境内运行的。我们现在主要是透过这些辅助工具，已经很少有直接终端的存在。（注：也就是说，我们现在所说的终端基本上指的是终端模拟器了）

还可以阅读这篇文章：[命令行界面 (CLI)、终端 (Terminal)、Shell、TTY，傻傻分不清楚？ - PRIN BLOG (printempw.github.io)](https://printempw.github.io/the-difference-between-cli-terminal-shell-tty/)

---

这里只介绍简单的几个命令，更详细的需要读者自行查找资料。

- 查看目录内容 `ls`
- 切换目录 `cd`
- 创建和删除操作 `touch`、`rm`、`mkdir`
- 拷贝和移动文件 `cp`、`mv`

### ls：列出目录的内容

`ls` 是英文单词 list 的简写，其功能为列出目录的内容，是用户最常用的命令之一，类似于 DOS 下的 `dir` 命令

| 参数 | 含义                                         |
| ---- | -------------------------------------------- |
| -a   | 显示指定目录下所有子目录与文件，包括隐藏文件 |
| -l   | 以列表方式显示文件的详细信息                 |
| -h   | 配合 -l 以人性化的方式显示文件大小           |

Linux / Unix 操作系统下，以 . 开头的文件为隐藏文件，需要用 -a 参数才能显示

```bash
$ ls -a      # 显示目录下的所有文件/目录
$ ls -a -l   # 以列表方式显示目录下的所有文件/目录的详细信息
```

`.`  代表当前目录

`..` 代表上一级目录

### cd：切换目录

`cd` 是英文单词 change directory 的简写，其功能为更改当前的工作目录，也是用户最常用的命令之一

> 注意：Linux 所有的 **目录** 和 **文件名** 都是大小写敏感的

```bash
$ cd ..      # 切换到上级目录
```

（不知道目录是什么？请自行查询）

| 命令    | 含义                                                 |
| ------- | ---------------------------------------------------- |
| `cd ~`  | 切换到当前用户的主目录（家目录，亦即`/home/用户名`） |
| `cd .`  | 保持在当前目录不变                                   |
| `cd ..` | 切换到上级目录                                       |
| `cd -`  | 可以在最近两次工作目录之间来回切换                   |

**相对路径和绝对路径**

相对路径：在输入路径时，最前面**不是** `/` 或者 `~`，表示相对 当前目录 所在的目录位置
绝对路径：在输入路径时，最前面**是** `/` 或者 `~`，表示从 根目录 / 家目录 开始的具体目录位置

### touch：创建文件

如果文件 **不存在**，可以创建一个空白文件

如果文件 **已经存在**，可以修改文件的末次修改日期

```bash
$ touch hello.txt
```

### mkdir：创建一个新的目录

> 新建目录的名称不能与当前目录中 已有的目录或文件 同名

```bash
$ mkdir workspace
$ cd workspace
$ cd ..
```

### rm：删除文件或目录

> 使用 rm 命令要小心，因为文件删除后不能恢复

| 选项 | 含义                                                  |
| ---- | ----------------------------------------------------- |
| -f   | 强制删除，忽略不存在的文件，无需提示                  |
| -r   | 递归地删除目录下的内容，**删除文件夹** 时必须加此参数 |
| -v   | 可以显示出该命令具体执行了哪些操作                    |

### 拷贝和移动文件

| 命令                 | 对应英文 | 作用                                 |
| -------------------- | -------- | ------------------------------------ |
| `cp 源文件 目标文件` | copy     | 复制文件或者目录                     |
| `mv 源文件 目标文件` | move     | 移动文件或者目录／文件或者目录重命名 |

参考链接：[文件和目录常用命令 - davidabdy - 博客园 (cnblogs.com)](https://www.cnblogs.com/zkpythonstudy/p/9960512.html)



## 相关内容


- [《Advanced Bash-Scripting Guide (高级Bash脚本编程指南)》中文版](https://doc.yonyoucloud.com/doc/Advanced-Bash-Scripting-Guide-in-Chinese/index.html)：链接中有原文地址，也有项目的Github地址

- https://www.landiannews.com/archives/tag/VMWare

